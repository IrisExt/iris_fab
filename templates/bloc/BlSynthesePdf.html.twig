{# ./templates/default/mypdf.html.twig #}
<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Title of the PDF</title>
</head>
<body>
<h1>{{ title }}</h1>
<div class="sparkline8-graph">
    <div class="form-group row">
        <div class="col-sm-1"></div>
        <div class="col-sm-11">
            <h2>Identité du projet</h2><br>
            <div id="BlIdentProjType_Acr">
                <div class="form-group row"><label class="col-form-label col-sm-3">Acronyme</label>
                    <div class="col-sm-6"><input type="text" class="form-control" value="{{ tgProjet.getLbAcro }}" disabled>
                    </div>
                </div>
            </div>
            <div id="BlIdentProjType_TitFr">
                <div class="form-group row"><label class="col-form-label col-sm-3">Titre projet Fr</label>
                    <div class="col-sm-6"><input type="text" class="form-control" value="{{ tgProjet.getLbTitreFr }}" disabled>
                    </div>
                </div>
            </div>
            <div id="BlIdentProjType_TitEn">
                <div class="form-group row"><label class="col-form-label col-sm-3">Titre projet En</label>
                    <div class="col-sm-6"><input type="text" class="form-control" value="{{ tgProjet.getLbTitreEn }}" disabled>
                    </div>
                </div>
            </div>
            <div id="BlIdentProjType_Duree">
                <div class="form-group row"><label class="col-form-label col-sm-3">Durée du projet</label>
                    <div class="col-sm-6"><input type="text" class="form-control" value="{{ tgProjet.getNoDuree }}" disabled>
                    </div>
                </div>
            </div>
            <div id="BlIdentProjType_TypeRech">
                <div class="form-group row"><label class="col-form-label col-sm-3">Type recherche</label>
                    <div class="col-sm-6"><input type="text" class="form-control" value="{{ tgProjet.getIdCatRd }}" disabled>
                    </div>
                </div>
            </div>
            <div id="BlIdentProjType_Inst">
                <div class="form-group row"><label class="col-form-label col-sm-3">Instrument</label>
                    <div class="col-sm-6"><input type="text" class="form-control" value="{{ tgProjet.getIdInfraFi }}" disabled>
                    </div>
                </div>
            </div>
            <div id="BlIdentProjType_Ces">
                <div class="form-group row"><label class="col-form-label col-sm-3">CES selectionné</label>
                    <div class="col-sm-6"><input type="text" class="form-control" value="{{ tgProjet.getIdComite }}" disabled>
                    </div>
                </div>
            </div>
            <div id="BlIdentProjType_MntPrev">
                <div class="form-group row"><label class="col-form-label col-sm-3">Montant provisionnel d’aide (en K€)</label>
                    <div class="col-sm-6"><input type="text" class="form-control" value="{{ tgProjet.getMntAidePrev }}" disabled>
                    </div>
                </div>
            </div>
            <br><br><br>

            <div id="PoleComp" >
                <div class="form-group row"><label class="col-form-label col-sm-3">Pôle de compétitivité</label>
                    <div class="col-sm-6">
                        <select class="form-control" multiple disabled>
                            {% for key,polComp in tgProjet.getIdPoleComp().getValues() %}
                                <option>{{ polComp.lbPolComp }}</option>
                            {% endfor %}
                        </select>
                    </div>
                </div>
            </div>
            <div id="Infra" >
                <div class="form-group row"><label class="col-form-label col-sm-3">Infrastructure de recherche</label>
                    <div class="col-sm-6">
                        <select class="form-control" multiple disabled>
                            {% for key,Infra in tgProjet.getIdInfRech().getValues() %}
                                <option>{{ Infra.lbNomLong }}</option>
                            {% endfor %}
                        </select>
                    </div>
                </div>
            </div>
            <div id="CoFi" >
                <div class="form-group row"><label class="col-form-label col-sm-3">Cofinanceur</label>
                    <div class="col-sm-6">
                        <select class="form-control" multiple disabled>
                            {% for key,cofi in  tgProjet.getIdCoFi().getValues() %}
                                <option>{{ cofi.lbCoFi }}</option>
                            {% endfor %}
                        </select>
                    </div>
                </div>
            </div>

        </div>
    </div>
    <div class="form-group row">
        <div class="col-sm-1"></div>
        <div class="col-sm-11">
            <h2>Partenaires</h2><br>
            {% if (partenaires) %}
                <table id="table" class="table" >
                    <thead>
                    <tr>
                        <th style="border: 0;background-color:white;"></th>
                        <th style="border: 0;background-color:white;"></th>
                        <th >Tutelle Gestionnaire (SIRET / RNSR)</th>
                        <th >Laboratoire</th>
                        <th >Participants</th>
                        <th >Montant d'aide</th>
                        <th >Taux d'aide</th>
                        <th >Resp. Scientifique</th>
                        <th >Dir. Unité</th>
                        <th >Resp. administratif (nom & courriel)</th>
                    </tr>
                    </thead>
                    <tbody>

                    {% for key,partenaire in partenaires %}

                        <tr>
                            <td width="13%">
                                {{ partenaire.getTypPart.getLbNomFr() }}
                            </td>
                            <td style="font-weight: bold;">{% if partenaire.getHebergeur() %}{{ partenaire.getHebergeur().getLbNomFr() }}{% endif %}</td>
                            <td>
                                {% if 'PUF' == partenaire.getTypPart().getTypPart() %}
                                    {% if partenaire.getTutGest() %}
                                        {{ partenaire.getTutGest().getSiret() }} /
                                        {{ partenaire.getTutGest().getCdRnsr() }}
                                    {% endif %}
                                {% endif %}
                            </td>
                            <td>
                                {% if 'PUF' == partenaire.getTypPart().getTypPart() %}
                                    {% if partenaire.getLaboratoire() %} {{ partenaire.getLaboratoire() }}{% endif %}
                                {% endif %}
                            </td>
                            <td style="color: dodgerblue;font-size: unset;">
                                {% if partenaire.getIdPersonne() %}
                                    <i class="fa fa-users"></i> {{ partenaire.getIdPersonne()|length }}
                                {% endif %}
                            </td>
                            <td style="color: steelblue;font-size: unset;">
                                {% if partenaire.getMntAide() %}
                                    <i class="fa fa-euro"></i> {{ partenaire.getMntAide() }}€
                                {% endif %}
                            </td>
                            <td style="color:brown;font-size: unset;">
                                {% if partenaire.getTxAide() %}
                                    <i class="fa fa-balance-scale"></i> {{ partenaire.getTxAide() }}%
                                {% endif %}
                            </td>
                            <td>
                                {% if partenaire.getRespScient() %}{{ partenaire.getRespScient() }} {% endif %}
                            </td>
                            <td>
                                {% if partenaire.getRepJuridique() %}{{ partenaire.getRepJuridique() }} {% endif %}
                            </td>
                            <td>
                                {% if partenaire.getGestAdm() %}{{ partenaire.getGestAdm().getLbNomUsage() }} {% endif %} /
                                {% if partenaire.getGestAdm() %}
                                    {% for mail in partenaire.getGestAdm().getIdAdrMail() %}
                                        <a href="mailto:{{ mail.getAdrMail() }}">{{ mail.getAdrMail() }}</a>
                                    {% endfor %}
                                {% endif %}
                            </td>
                        </tr>

                    {% endfor %}
                    </tbody>
                </table>

                <h2>Coûts prévisionnels</h2><br>
                <table id="table" class="table table-striped" >
                    <thead>
                    <tr>

                        <th style="border: 0;background-color:white;"></th>
                        <th style="border: 0;background-color:white;"></th>
                        <th >Personnel Permanent</th>
                        <th >Personnel Non Permanent financé</th>
                        <th >Personnel Non Permanent non financé</th>
                        <th >Décharge d'enseignement</th>
                        <th >Instrument / Matériel</th>
                        <th >Bâtiments et terrains</th>
                        <th >Prestation de services et de droit PI</th>
                        <th >Taux d'aide</th>
                        <th >Aide demandée</th>
                    </tr>
                    </thead>
                    <tbody>
                    {% for key,partenaire in partenaires %}
                        <tr>
                            <td width="13%">
                                {{ partenaire.getTypPart.getLbNomFr() }}
                            </td>
                            <td style="font-weight: bold;">{% if partenaire.getHebergeur() %}{{ partenaire.getHebergeur().getLbNomFr() }}{% endif %}</td>

                            <td>{% if(partenaire.getIdCoutPrv()) %}{{ partenaire.getIdCoutPrv().getMntPersPerm() }}{% endif %}</td>
                            <td>{% if(partenaire.getIdCoutPrv()) %}{{ partenaire.getIdCoutPrv().getMntPersNp() }}{% endif %}</td>
                            <td>{% if(partenaire.getIdCoutPrv()) %}{{ partenaire.getIdCoutPrv().getMntPersNpNf() }}{% endif %}</td>
                            <td>{% if(partenaire.getIdCoutPrv()) %}{{ partenaire.getIdCoutPrv().getMntDechEns() }}{% endif %}</td>
                            <td>{% if(partenaire.getIdCoutPrv()) %}{{ partenaire.getIdCoutPrv().getMntInstMat() }}{% endif %}</td>
                            <td>{% if(partenaire.getIdCoutPrv()) %}{{ partenaire.getIdCoutPrv().getMntBatTer() }}{% endif %}</td>
                            <td>{% if(partenaire.getIdCoutPrv()) %}{{ partenaire.getIdCoutPrv().getMntPrest() }}{% endif %}</td>
                            <td>{{ partenaire.getMntAide() }}</td>
                            <td>{{ partenaire.getTxAide() }}</td>
                        </tr>

                    {% endfor %}
                    </tbody>
                </table>
            {% else %}
                <h3>Aucun partenaire</h3>
            {% endif %}
        </div>
    </div>
</div>
</body>
</html>